{"mappings":"AAEA,MAAMA,EAAOC,SAASC,cAAc,kBAEpCF,EAAKG,iBAAiB,UAQtB,SAAsBC,GACpBA,EAAMC,iBAEN,MACEC,UAAUC,MAAEA,EAAKC,QAAEA,IACjBJ,EAAMK,cAEV,GAAoB,KAAhBF,EAAMG,OAAkC,KAAlBF,EAAQE,MAChC,OAAOC,MAAM,kCAGfC,EAAO,CAAEL,MAAOA,EAAMG,MAAOF,QAASA,EAAQE,OAE9CG,QAAQC,IAAIF,GAEZG,aAAaC,WAAW,uBACxBJ,EAAO,GACPR,EAAMK,cAAcQ,O,IAxBtBjB,EAAKG,iBAAiB,QAASe,UA4B/B,SAAqBd,GACnBQ,EAAKR,EAAMe,OAAOC,MAAQhB,EAAMe,OAAOT,MAEvCK,aAAaM,QAAQ,sBAAuBC,KAAKC,UAAUX,G,GA/BR,MAErD,IAAIA,EAAO,IAiCX,WACE,MAAMY,EAAWT,aAAaU,QAAQ,uBAEtC,IAAKD,EAAU,OAEfZ,EAAOU,KAAKI,MAAMF,GAEdZ,EAAKL,QAAOP,EAAKM,SAASC,MAAMG,MAAQE,EAAKL,OAC7CK,EAAKJ,UAASR,EAAKM,SAASE,QAAQE,MAAQE,EAAKJ,Q,CAvCvDmB","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', throttle(onFormInput, 500));\n\nlet data = {};\n\nloadForm();\n\n// ===== Submit form\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n\n  if (email.value === '' || message.value === '') {\n    return alert('Please fill in all the fields!');\n  }\n\n  data = { email: email.value, message: message.value };\n\n  console.log(data);\n\n  localStorage.removeItem('feedback-form-state');\n  data = {};\n  event.currentTarget.reset();\n}\n\n// ===== Save form\nfunction onFormInput(event) {\n  data[event.target.name] = event.target.value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(data));\n}\n\n// ===== Load form\nfunction loadForm() {\n  const dataSave = localStorage.getItem('feedback-form-state');\n\n  if (!dataSave) return;\n\n  data = JSON.parse(dataSave);\n\n  if (data.email) form.elements.email.value = data.email;\n  if (data.message) form.elements.message.value = data.message;\n}\n"],"names":["$945622fd0f572e60$var$form","document","querySelector","addEventListener","event","preventDefault","elements","email","message","currentTarget","value","alert","$945622fd0f572e60$var$data","console","log","localStorage","removeItem","reset","throttle","target","name","setItem","JSON","stringify","dataSave","getItem","parse","$945622fd0f572e60$var$loadForm"],"version":3,"file":"03-feedback.c2f617e5.js.map"}